<form id="registrerForm">
    <label>Registrer</label><br><br>
    <p hidden id="wrongP">Bruker eksisterer allerede</p>
    <input id="email" placeholder="Email" type="email" required><br>
    <input id="username" placeholder="Fult navn" required><br>
    <input type="password" placeholder="passord" id="password" required><br>
    <input type="password" placeholder="bekreft passord" id="password2" required><br>
    <button type="submit">Registrer</button><br>
</form>
<style>
    #registrerForm {
        text-align: center;
        position: absolute;
        left: 50%;
        top: 50%;
        margin-left: -133.5px;
        margin-top: -179px;
        background-color: lightgrey;
        padding-right: 50px;
        padding-left: 50px;
        padding-top: 100px;
        padding-bottom: 100px;
        border-color: grey;
        border-width: 1px;
        border-style: solid;
    }

    #registrerForm input {
        margin-top: 10px;
    }

    #registrerForm button {
        margin-top: 10px;
    }

    #wrongP {
        color: red;
    }
</style>
<script src="socket.io/socket.io.js"></script>
<script>
    var socket = io()
    document.getElementById("registrerForm").addEventListener("submit", (e) => {
        e.preventDefault()
        console.log(document.getElementById("username").value)
        if (document.getElementById("password").value == document.getElementById("password2").value) {
            socket.emit("register", document.getElementById("email").value, document.getElementById("username"), document.getElementById("password").value, )
        }
    })
    socket.on("userCreated", () => {
        alert("bruker opprettet")
        window.location.href="nyadresse.html"
    })
    socket.on("usernameExists", () => {
        document.getElementById("wrongP").hidden = false
    })
</script>